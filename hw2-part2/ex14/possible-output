nondeterministic output

either prints "data: 1" or hangs indefinitely, why?