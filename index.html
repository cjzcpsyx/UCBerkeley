<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <title>CS164: Language Popularity</title>
    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.6.0/underscore-min.js"></script>
  </head>

  <body>
    <div class="container"></div>
    <select id="paradigmSelect">
    </select>
    <script>
      raw_data =
      [
       {
          "name":"C++",
          "year":1983,
          "paradigms":[
             "Object-oriented programming",
             "Generic programming",
             "Multi-paradigm programming language",
             "Procedural programming",
             "Functional programming"
          ],
          "influenced":[
             "D",
             "C#",
             "Dylan",
             "Perl",
             "PHP",
             "Dao Language",
             "Aikido Programming Language",
             "LPC",
             "Ferite",
             "URBI",
             "Lua",
             "Vala",
             "Blueprint",
             "MivaScript",
             "Squirrel programming language",
             "Corba IDL",
             "Falcon",
             "Felix programming language",
             "Java",
             "XL Programming Language",
             "Pike programming language",
             "UnrealScript",
             "Ada",
             "Python",
             "Alpoca",
             "Ruby",
             "QUILL"
          ],
          "nbRepos":78327
       },
       {
          "name":"C",
          "year":1972,
          "paradigms":[
             "Procedural programming",
             "Imperative programming",
             "Structured programming"
          ],
          "influenced":[
             "PHP",
             "C++",
             "LPC",
             "Perl",
             "Vala",
             "Objective-C",
             "C--",
             "PCASTL",
             "AWK",
             "JavaScript",
             "Limbo programming language",
             "D",
             "C#",
             "MOO programming language",
             "SISAL",
             "Pike programming language",
             "ECMAScript",
             "Joy",
             "C--",
             "Ferite",
             "Yoix",
             "ColdC",
             "Aikido Programming Language",
             "Nickle programming language",
             "BitC",
             "Processing",
             "NWScript",
             "SAC programming language",
             "Vala",
             "Kaya",
             "MivaScript",
             "Corba IDL",
             "QuakeC",
             "S-Lang",
             "Cilk",
             "Unified Parallel C",
             "Split-C",
             "Claire programming language",
             "VisSim",
             "Java",
             "Go",
             "AMPL",
             "Alpoca",
             "Draco",
             "S programming language"
          ],
          "nbRepos":67706
       },
       {
          "name":"Smalltalk",
          "year":1972,
          "paradigms":[
             "Object-oriented programming"
          ],
          "influenced":[
             "Ruby",
             "Groovy",
             "Objective-C",
             "Self",
             "SuperTalk",
             "Io",
             "Scala",
             "Ada",
             "MOO programming language",
             "Dylan",
             "NewtonScript",
             "AppleScript",
             "Perl 6",
             "Squeak",
             "Slate programming language",
             "Object Pascal",
             "Frink",
             "F-Script programming language",
             "Cel",
             "Oaklisp",
             "BeanShell",
             "Bistro",
             "Judoscript",
             "EToys",
             "Lisaac",
             "Logtalk",
             "VistaSmalltalk",
             "Scratch",
             "Orc",
             "Perl",
             "CLOS",
             "Blueprint",
             "AgentSheets",
             "Corba IDL",
             "Falcon",
             "Ioke",
             "Claire programming language",
             "Java",
             "PHP",
             "AmbientTalk",
             "ELENA",
             "Liberty BASIC"
          ],
          "nbRepos":63
       },
       {
          "name":"Objective-C",
          "year":1983,
          "paradigms":[
             "Object-oriented programming"
          ],
          "influenced":[
             "Tom",
             "TOM",
             "ABAP",
             "Cel",
             "Sleep programming language",
             "Cobra",
             "Objective-J",
             "Nu",
             "Groovy",
             "Java"
          ],
          "nbRepos":36344
       },
       {
          "name":"Eiffel",
          "year":1986,
          "paradigms":[
             "Object-oriented programming",
             "Design by contract"
          ],
          "influenced":[
             "D",
             "Ruby",
             "Sather",
             "C#",
             "Cobra",
             "Lisaac",
             "Spec sharp",
             "Java",
             "PLT Scheme",
             "Scala"
          ],
          "nbRepos":55
       },
       {
          "name":"PHP",
          "year":1995,
          "paradigms":[
             "Object-oriented programming",
             "Interpreted language",
             "Procedural programming",
             "Imperative programming"
          ],
          "influenced":[
             "Ferite",
             "Falcon"
          ],
          "nbRepos":114384
       },
       {
          "name":"C#",
          "year":2000,
          "paradigms":[
             "Object-oriented programming",
             "Component-oriented programming",
             "Imperative programming",
             "Structured programming",
             "Functional programming",
             "Multi-paradigm programming language",
             "Generic programming"
          ],
          "influenced":[
             "Vala",
             "D",
             "PHP",
             "F#",
             "Nemerle",
             "Windows PowerShell",
             "Cobra",
             "Vala",
             "Fan",
             "Polyphonic C sharp",
             "C&omega;",
             "Spec sharp",
             "Oxygene",
             "Java",
             "Objeck"
          ],
          "nbRepos":32170
       },
       {
          "name":"Common Lisp",
          "year":1984,
          "paradigms":[
             "Functional programming",
             "Object-oriented programming",
             "Procedural programming",
             "Multi-paradigm programming language",
             "Generic programming"
          ],
          "influenced":[
             "Dylan",
             "EuLisp",
             "Slate programming language",
             "SubL",
             "CLOS",
             "Cadence SKILL",
             "ISLISP",
             "Clojure",
             "Sather",
             "Emacs Lisp",
             "Java",
             "Le Lisp"
          ],
          "nbRepos":1153
       },
       {
          "name":"Scheme",
          "year":1975,
          "paradigms":[
             "Functional programming",
             "Interpreted language",
             "Multi-paradigm programming language",
             "Procedural programming"
          ],
          "influenced":[
             "Common Lisp",
             "Lua",
             "Dylan",
             "Ruby",
             "JavaScript",
             "MOO programming language",
             "Joy",
             "K",
             "Oaklisp",
             "Ferite",
             "GOO",
             "Q",
             "Haskell",
             "T",
             "Sather",
             "Scala",
             "R",
             "PLT Scheme",
             "Cadence SKILL",
             "ECMAScript",
             "AmbientTalk",
             "Mudlle",
             "EuLisp",
             "Clojure",
             "Objeck",
             "Kernel"
          ],
          "nbRepos":882
       },
       {
          "name":"Dylan",
          "year":1992,
          "paradigms":[
             "Dynamic programming language",
             "Reflective programming",
             "Object-oriented programming",
             "Functional programming",
             "Multi-paradigm programming language"
          ],
          "influenced":[
             "Ruby",
             "GOO",
             "NewtonScript",
             "Slate programming language",
             "EuLisp",
             "Python"
          ],
          "nbRepos":13
       },
       {
          "name":"Ruby",
          "year":1995,
          "paradigms":[
             "Reflective programming",
             "Object-oriented programming",
             "Dynamic programming language",
             "Interpreted language",
             "Multi-paradigm programming language",
             "Functional programming",
             "Imperative programming"
          ],
          "influenced":[
             "Groovy",
             "Mantra",
             "Perl 6",
             "Frink",
             "Windows PowerShell",
             "BeanShell",
             "Ferite",
             "Judoscript",
             "URBI",
             "Nu",
             "Fan",
             "D",
             "Falcon",
             "Ioke",
             "CoffeeScript"
          ],
          "nbRepos":218812
       },
       {
          "name":"Perl",
          "year":1987,
          "paradigms":[
             "Object-oriented programming",
             "Procedural programming",
             "Dynamic programming language",
             "Multi-paradigm programming language",
             "Imperative programming",
             "Generic programming"
          ],
          "influenced":[
             "Ruby",
             "PHP",
             "Python",
             "JavaScript",
             "ECMAScript",
             "Windows PowerShell",
             "Dao Language",
             "Groovy",
             "Frink",
             "LPC",
             "Perl 6",
             "BeanShell",
             "Sleep programming language",
             "Judoscript",
             "Aikido Programming Language",
             "MivaScript",
             "Falcon",
             "Haskell",
             "CoffeeScript"
          ],
          "nbRepos":15412
       },
       {
          "name":"Groovy",
          "year":2004,
          "paradigms":[
             "Object-oriented programming",
             "Dynamic programming language",
             "Imperative programming",
             "Functional programming"
          ],
          "influenced":[

          ],
          "nbRepos":3372
       },
       {
          "name":"Prolog",
          "year":1972,
          "paradigms":[
             "Logic programming",
             "Declarative programming"
          ],
          "influenced":[
             "Visual Prolog",
             "Mercury",
             "Erlang",
             "Oz",
             "Strand",
             "Logtalk",
             "Parlog",
             "Datalog",
             "Clojure"
          ],
          "nbRepos":5829
       },
       {
          "name":"Erlang",
          "year":1987,
          "paradigms":[
             "Functional programming",
             "Concurrent computing",
             "Actor model",
             "Multi-paradigm programming language"
          ],
          "influenced":[
             "Scala",
             "Clojure",
             "Fan"
          ],
          "nbRepos":2061
       },
       {
          "name":"Python",
          "year":1991,
          "paradigms":[
             "Object-oriented programming",
             "Interpreted language",
             "Imperative programming",
             "Functional programming",
             "Multi-paradigm programming language",
             "Procedural programming"
          ],
          "influenced":[
             "Ruby",
             "Boo",
             "Groovy",
             "Stackless Python",
             "Mantra",
             "JavaScript",
             "Cobra",
             "PHP",
             "ECMAScript",
             "D",
             "Cel",
             "BeanShell",
             "Ferite",
             "Judoscript",
             "Dao Language",
             "MiniD",
             "Squirrel programming language",
             "Falcon",
             "Perl",
             "Alpoca",
             "CoffeeScript",
             "Cobra",
             "Go",
             "Io",
             "F#"
          ],
          "nbRepos":95002
       },
       {
          "name":"Tcl",
          "year":1988,
          "paradigms":[
             "Functional programming",
             "Object-oriented programming",
             "Procedural programming",
             "Multi-paradigm programming language",
             "Imperative programming"
          ],
          "influenced":[
             "Windows PowerShell",
             "PHP",
             "Tea programming language"
          ],
          "nbRepos":338
       },
       {
          "name":"Haskell",
          "year":1990,
          "paradigms":[
             "Functional programming",
             "Interpreted language",
             "Compiled language",
             "Declarative programming",
             "Combinatory logic",
             "Lazy evaluation",
             "Strongly-typed programming language",
             "Type inference",
             "Mathematics"
          ],
          "influenced":[
             "Python",
             "Scala",
             "Mercury",
             "Clean programming language",
             "Language Integrated Query",
             "Generic Java programming language",
             "Perl 6",
             "Epigram programming language",
             "Cayenne programming language",
             "F#",
             "Curry programming language",
             "Factor",
             "C#",
             "Cat",
             "Fortress programming language",
             "Quark Framework",
             "Orc",
             "Timber",
             "Clojure",
             "Escher",
             "Kaya",
             "Visual Basic .NET",
             "Qi",
             "BitC",
             "Agda theorem prover",
             "CoffeeScript"
          ],
          "nbRepos":4681
       },
       {
          "name":"Boo",
          "year":2004,
          "paradigms":[

          ],
          "influenced":[

          ],
          "nbRepos":24
       },
       {
          "name":"JavaScript",
          "year":1995,
          "paradigms":[
             "Ajax",
             "Imperative programming",
             "Object-oriented programming",
             "Prototype-based programming",
             "Functional programming",
             "Multi-paradigm programming language",
             "Reflective programming"
          ],
          "influenced":[
             "mjt",
             "ActionScript",
             "Aikido Programming Language",
             "Objective-J",
             "DECLAN Pro",
             "Squirrel programming language",
             "Script.NET",
             "Curl programming language",
             "JScript",
             "JScript .NET",
             "Perl 6",
             "CoffeeScript"
          ],
          "nbRepos":264131
       },
       {
          "name":"D",
          "year":2000,
          "paradigms":[
             "Object-oriented programming",
             "Imperative programming",
             "Multi-paradigm programming language",
             "Functional programming"
          ],
          "influenced":[
             "MiniD",
             "Vala"
          ],
          "nbRepos":936
       },
       {
          "name":"AWK",
          "year":1979,
          "paradigms":[
             "Procedural programming"
          ],
          "influenced":[
             "Perl",
             "Korn shell",
             "JavaScript syntax",
             "ECMAScript",
             "Lua",
             "Chomski",
             "Tcl",
             "AMPL"
          ],
          "nbRepos":42
       },
       {
          "name":"Visual Basic",
          "year":1991,
          "paradigms":[
             "Object-oriented programming"
          ],
          "influenced":[
             "Gambas",
             "Visual Basic .NET",
             "VBScript",
             "REALbasic"
          ],
          "nbRepos":1854
       },
       {
          "name":"AppleScript",
          "year":1993,
          "paradigms":[

          ],
          "influenced":[

          ],
          "nbRepos":121
       },
       {
          "name":"Standard ML",
          "year":1984,
          "paradigms":[
             "Functional programming",
             "Imperative programming",
             "Multi-paradigm programming language"
          ],
          "influenced":[
             "Scala",
             "Standard ML of New Jersey"
          ],
          "nbRepos":139
       },
       {
          "name":"Lua",
          "year":1993,
          "paradigms":[
             "Imperative programming",
             "Functional programming",
             "Multi-paradigm programming language",
             "Object-oriented programming",
             "Prototype-based programming",
             "Procedural programming"
          ],
          "influenced":[
             "Io",
             "Squirrel programming language",
             "Dao Language",
             "GameMonkey Script",
             "MiniD",
             "Falcon"
          ],
          "nbRepos":4048
       },
       {
          "name":"ActionScript",
          "year":2000,
          "paradigms":[
             "Object-oriented programming",
             "Multi-paradigm programming language",
             "Functional programming",
             "Prototype-based programming",
             "Imperative programming"
          ],
          "influenced":[
             "HaXe"
          ],
          "nbRepos":2413
       },
       {
          "name":"REBOL",
          "year":1997,
          "paradigms":[
             "Functional programming",
             "Multi-paradigm programming language",
             "Structured programming",
             "Prototype-based programming",
             "Imperative programming",
             "Dynamic programming language"
          ],
          "influenced":[
             "Syp Script",
             "JSON"
          ],
          "nbRepos":17
       },
       {
          "name":"MATLAB",
          "year":1978,
          "paradigms":[
             "Imperative programming",
             "Procedural programming",
             "Object-oriented programming",
             "Array programming"
          ],
          "influenced":[

          ],
          "nbRepos":2395
       },
       {
          "name":"Nemerle",
          "year":2003,
          "paradigms":[
             "Object-oriented programming",
             "Functional programming",
             "Imperative programming",
             "Multi-paradigm programming language"
          ],
          "influenced":[

          ],
          "nbRepos":49
       },
       {
          "name":"Scala",
          "year":2003,
          "paradigms":[
             "Functional programming",
             "Object-oriented programming",
             "Multi-paradigm programming language",
             "Imperative programming"
          ],
          "influenced":[
             "Fortress programming language",
             "Fan"
          ],
          "nbRepos":6918
       },
       {
          "name":"Factor",
          "year":2003,
          "paradigms":[
             "Concatenative programming language",
             "Multi-paradigm programming language",
             "Stack-oriented programming language"
          ],
          "influenced":[
             "Cat",
             "Alpoca"
          ],
          "nbRepos":17
       },
       {
          "name":"Vala",
          "year":2007,
          "paradigms":[
             "Imperative programming",
             "Object-oriented programming"
          ],
          "influenced":[

          ],
          "nbRepos":321
       },
       {
          "name":"Io",
          "year":2002,
          "paradigms":[
             "Object-oriented programming",
             "Prototype-based programming"
          ],
          "influenced":[
             "URBI",
             "Ioke",
             "MiniD"
          ],
          "nbRepos":53
       },
       {
          "name":"Vala",
          "year":2007,
          "paradigms":[
             "Object-oriented programming",
             "Structured programming",
             "Imperative programming"
          ],
          "influenced":[

          ],
          "nbRepos":321
       },
       {
          "name":"F#",
          "year":2005,
          "paradigms":[
             "Functional programming",
             "Object-oriented programming",
             "Imperative programming",
             "Multi-paradigm programming language",
             "Type inference",
             "Concurrent computing"
          ],
          "influenced":[
             "Visual Basic .NET"
          ],
          "nbRepos":473
       },
       {
          "name":"Processing",
          "year":2001,
          "paradigms":[
             "Object-oriented programming"
          ],
          "influenced":[

          ],
          "nbRepos":1207
       },
       {
          "name":"R",
          "year":1993,
          "paradigms":[
             "Functional programming",
             "Object-oriented programming",
             "Procedural programming",
             "Imperative programming",
             "Array programming"
          ],
          "influenced":[
             "PCASTL"
          ],
          "nbRepos":2980
       },
       {
          "name":"D",
          "year":2000,
          "paradigms":[

          ],
          "influenced":[

          ],
          "nbRepos":936
       },
       {
          "name":"Clojure",
          "year":2007,
          "paradigms":[
             "Functional programming",
             "Concurrent computing",
             "Multi-paradigm programming language"
          ],
          "influenced":[

          ],
          "nbRepos":4904
       },
       {
          "name":"Java",
          "year":1995,
          "paradigms":[
             "Virtual machine",
             "Strongly-typed programming language",
             "Object-oriented programming",
             "Structured programming",
             "Write once, run anywhere",
             "Imperative programming",
             "Generic programming"
          ],
          "influenced":[
             "Groovy",
             "PHP",
             "D",
             "Ada",
             "Cool",
             "E",
             "JavaScript",
             "C",
             "Frink",
             "J#",
             "X10",
             "Judoscript",
             "Fan",
             "Aikido Programming Language",
             "BeanShell",
             "MivaScript",
             "Python",
             "NWScript",
             "Clojure",
             "Nickle programming language",
             "Vala",
             "Processing",
             "Quark Framework",
             "ActionScript",
             "Bistro",
             "Ferite",
             "ECMAScript",
             "Scala",
             "QUILL",
             "Yoix",
             "C#",
             "ABAP",
             "NetRexx",
             "UnrealScript",
             "Gambas",
             "Pizza",
             "Alpoca",
             "Generic Java programming language"
          ],
          "nbRepos":157618
       },
       {
          "name":"Go",
          "year":2009,
          "paradigms":[
             "Compiled language",
             "Concurrent computing",
             "Structured programming",
             "Imperative programming"
          ],
          "influenced":[

          ],
          "nbRepos":6884
       },
       {
          "name":"CoffeeScript",
          "year":2009,
          "paradigms":[
             "Multi-paradigm programming language",
             "Prototype-based programming",
             "Imperative programming",
             "Functional programming",
             "Object-oriented programming"
          ],
          "influenced":[
             "MoonScript"
          ],
          "nbRepos":11133
       }
    ]

      // Margin Convention
      var margin = {top: 20, right: 100, bottom: 20, left: 50};
      var width = 960 - margin.left - margin.right;
      var height = 500 - margin.top - margin.bottom;
      var canvas = d3.select(".container").append("svg")
        .attr("width", width + margin.left + margin.right)
        .attr("height", height + margin.top + margin.bottom)
        .append("g")
        .attr("transform", "translate(" + 0 + "," + 0 + ")")
      var x = d3.select("svg").append("g")
        .attr("transform", "translate(" + margin.left + "," + (height + margin.top).toString() + ")");
      var y = d3.select("svg").append("g")
        .attr("transform", "translate(" + (margin.left*2) + "," + margin.top + ")");
      var selections = _.uniq(_.flatten(_.map(raw_data, function(d) {
        return d.paradigms
      })));
      var selector = d3.select("#paradigmSelect");
      selector.selectAll("option").data(selections).enter().append("option").text(function(d) {
        return d;
      });
      var option = selector.node().value;
      var refresh = function() {
        data = _.filter(raw_data, function(d) {
          return _.contains(d.paradigms, option);
        });
        // d3 scales
        var xMin = d3.min(data, function(d) {
          return d.year - 1;
        });
        var xMax = d3.max(data, function(d) {
          return d.year + 1;
        });
        var yMin = d3.min(data, function(d) {
          return d.nbRepos - 10;
        });
        var yMax = d3.max(data, function(d) {
          return d.nbRepos + 10;
        });
        var xScale = d3.scale.linear().domain([xMin, xMax]).range([margin.left, width]);
        var yScale = d3.scale.log().domain([yMax, yMin]).range([margin.top, height]);
        // Drawing and updating
        var circles = canvas.selectAll("circle").data(data);
        var texts = canvas.selectAll("text").data(data);
        circles.exit().transition().duration(500).remove();
        circles.enter().append("circle").style("opacity", 0);
        setTimeout(function() {
          circles
            .transition().duration(500).attr("cx", function(d) {
              return margin.left + xScale(d.year);
            })
            .attr("cy", function(d) {
              return margin.top + yScale(d.nbRepos);
            })
            .attr("r", 5);
        }, 500);
        setTimeout(function() {
          circles.transition().duration(500).style("opacity", 1);
        }, 1000);
        texts.exit().transition().duration(500).remove();
        texts.enter().append("text").style("opacity", 0);
        setTimeout(function() {
          texts
            .text(function(d) {
              return d.name;
            })
            .attr("fill", "red")
            .transition().duration(500).attr("x", function(d) {
              return margin.left + xScale(d.year);
            })
            .attr("y", function(d) {
              return margin.top + yScale(d.nbRepos);
            });
        }, 500);
        setTimeout(function() {
          texts.transition().duration(500).style("opacity", 1);
        }, 1000);
        var xAxis = d3.svg.axis().scale(xScale).ticks(10).tickSize(2,2).orient("bottom").tickFormat(d3.format("d"));
        var yAxis = d3.svg.axis().scale(yScale).tickSize(2,2).orient("left");
        setTimeout(function () {
          x.transition().duration(500).call(xAxis);
        }, 500);
        canvas.append("text")
          .attr("x", width )
          .attr("y",  height )
          .style("font-size", "14px")
          .text("Year");
        setTimeout(function() {
          y.transition().duration(500).call(yAxis);
        }, 500);
        canvas.append("text")
          .attr("x", margin.top)
          .attr("y",  margin.left)
          .style("font-size", "14px")
          .text("# repos");
      }
      refresh();
      selector.on("click", function() {
        option = selector.node().value;
        refresh();
      });
    </script>
  </body>
</html>